# Boomerang - WordPress Project

Этот проект представляет собой стандартную установку WordPress с кастомным плагином. Весь проект включает в себя все необходимые файлы, темы, плагины и базу данных. Данный репозиторий можно использовать для быстрого развертывания WordPress-сайта с поддержкой Redis кэширования.


## Требования

- [Docker](https://www.docker.com/) и [Docker Compose](https://docs.docker.com/compose/) должны быть установлены на вашем компьютере.
- Git для клонирования репозитория.


## Установка

1. **Клонируйте репозиторий:**

   Сначала клонируйте репозиторий на ваш компьютер:
   
   ```bash
   git clone https://github.com/Kromvel-X/boomerang.git
   cd boomerang
   
2.	**Запустите контейнеры с помощью Docker Compose:**

    Убедитесь, что у вас установлены Docker и Docker Compose. После этого выполните команду для поднятия всех контейнеров:

    ```
    docker-compose up -d

3. **Посетите сайт:**

    http://localhost:8000

    Это откроет ваш локальный WordPress сайт.

    http://localhost:8000/wp-admin 

       доступ к админке сайта:

        логин: boomerang
        пароль: sr0X(Jws0f4wcVQdv^
 
## Описания разработнных плагинов ##

1.  bonus-form - создает блок bonus-form, при помощи пакета - @wordpress/create-block 
2.  slot-catalog - Создает 2 шорткода: 
    - [slot-catalog] - выводить форму поиска, кнопку "Провайдеры" и список категорий.
    - [slot-slider] - выводит слажерй слотов.
    ```
    Структура плагина 
    assets/: Каталог для статических файлов (CSS, изображения, JS, Less).
    css/: Стили для плагина.
    images/: Изображения для плагина.
    js/: Скрипты для плагина.
    less/: Файлы Less для плагина.
    src/: Исходный код плагина.
        API/: Классы для работы с API.
            FilterCategoriesAjax.php: Обработка AJAX-запросов для фильтрации категорий.
            SearchAjax.php: Обработка AJAX-запросов для поиска.
            SlotCatalogAPIendpoint.php: Кастомный API для получения данных о слотах.
        Core/: Основные классы плагина.
            Plugin.php: Основной класс плагина.
        Frontend/: Классы для работы с фронтендом.
            PostCatalog.php: Класс для отображения каталога постов.
            PostSlider.php: Класс для отображения слайдера постов.
            SearchForm.php: Класс для отображения формы поиска.
            SlotCatalogShortcode.php: Шорткод для каталога слотов.
            SlotSliderShortcode.php: Шорткод для слайдера слотов.
        Query/: Классы для работы с запросами.
            Query.php: Класс для выполнения запросов к базе данных.
        templates/: Шаблоны для отображения данных.
            posts-catalog.php: Шаблон для каталога постов.
            posts-slider.php: Шаблон для слайдера постов.
            search-form.php: Шаблон для формы поиска.
    vendor: Папка с зависимостями, установленными через Composer.
    composer.json: Файл конфигурации Composer.
    composer.lock: Файл блокировки версий зависимостей Composer.
    slot-catalog.php: Основной файл плагина.

## Описания кастомной темы ##
    Название - Boomerang
    Основной файл для работы с темой /inc/BoomerangBase.php:
    Представляет собой конфигурационный класс BoomerangBase. 

## Работа с PHP-скриптами

1. **Регулирование количества слотов**

    Используйте параметр count в URL для регулирования количества отображаемых слотов:

    http://localhost:8000/?count=10


2. **Сортировка слотов**

    Используйте параметр sort для сортировки слотов:

    http://localhost:8000/?sort=asc
    http://localhost:8000/?sort=desc
    http://localhost:8000/?sort=random

3. **Поиск слотов**

    •	$_GET запрос: Используйте параметр title для поиска слотов: http://localhost:8000/?title=slot 1
    •	AJAX: поисковая форма: работает на ввод данных в input.

4. **Фильтрация слотов**

    •	AJAX: "Провайдеры" раскрывает дропдаун с категориями (дочернии категории от категории "Провайдеры"), при клике на элемент дропдаунна, происходит полученние записей с определенной категорией.
    •	AJAX: Слайдер категорий (дочернии категории от категории "Игры"), при клике на кнопку категории, происходит полученние записей с определенной категорией.


## Кастомный API ##

    Кастомный роут /wp-json/testtask/v1/slots/get возвращает JSON с данными о слотах:
    http://localhost:8000/wp-json/testtask/v1/slots/

    Можно регулировать количество постов с помощью параметра per_page
    http://localhost:8000/wp-json/testtask/v1/slots/get?per_page=1
    Пример ответа:
    ```[
        {
            "name": "Slot 7",
            "thumb": "http://localhost:8000/wp-content/uploads/2025/03/slot_2x.webp",
            "slug": "slot-7"
        }
    ]
    

## Структура проекта

    •	docker-compose.yml: Конфигурация для запуска контейнеров Docker.
    •	boomerang/: Каталог с wordpress, плагиномами, файлами темы.
    •	database.sql: База данных для WordPress.
    •	nginx.conf: Конфигурация Nginx для проксирования запросов к контейнеру WordPress.
    •	vendor/: Папка с зависимостями, установленными через Composer.

    
## Используемые технологии
    •	WordPress: CMS для создания и управления контентом.
	•	Redis: Используется для кэширования данных WordPress (Кешируются запросы к базе данных).
	•	MySQL: База данных для хранения данных сайта.
	•	Nginx: Прокси-сервер для обработки HTTP-запросов.
	•	Docker и Docker Compose: Используются для контейнеризации и упрощения развертывания проекта.
	•	Composer: Для управления зависимостями и автозагрузки классов.
	•	Gutenberg: Используется для создания и редактирования блоков в WordPress.
	•	AJAX: Для динамической загрузки и фильтрации слотов.


## Примечания
	•	При запуске проекта с помощью Docker Compose автоматически создаются все необходимые контейнеры, в том числе для базы данных и Redis.